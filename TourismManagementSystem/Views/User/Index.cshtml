@model IEnumerable<TourismManagementSystem.Models.Package>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutUserDashboard.cshtml";
}


@Html.Raw(TempData["LoginSuccessMessage"])

@Html.Raw(TempData["SuccessMsg"])
@Html.Raw(TempData["ErrorMessage"])

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="~/Assests/CustomCSS/UserStyleSheet.css">
    <link href="~/Assests/CustomCSS/Pagination.css" rel="stylesheet" />
</head>
<body>
    <!--JavaScript code for showing the image in #user_img-->
    <script type="text/javascript">
        function show(input) {
            if (input.files && input.files[0]) {
                var filerdr = new FileReader();
                filerdr.onload = function (e) {
                    $('#user_img').attr('src', e.target.result);
                }
                filerdr.readAsDataURL(input.files[0]);
            }
        }
    </script>
    @if (TempData["ErrorMsg"] != null)
    {
        <div class="alert alert-info" role="alert">
            @Html.Raw(TempData["ErrorMsg"])
        </div>
    }
    <div class="content">
        <div class="cont-bx">

            <h1>Welcome @Session["UserName"]</h1>
            <p>Travel with ocean & let us be your travel companion.</p>
        </div>


    </div>
    <div id="feature-section" style="padding-top:25px">
        <h1 class="feature-section-title" style="width: 70%; margin:auto; text-align: center; font-weight: 300; font-size:25px; color:black;">
            Discover breathtaking destinations,
            unleash your wanderlust, and create lifelong memories.
            Experience the magic of Ocean Tourism now!
        </h1>
        <div class="feature-content">
            <div class="row">
                <div class="col-3">
                    <img src="~/Assests/Images/Ocean.jpeg" style="" />
                    <h3>Oceans </h3>
                    <p>
                        Dive into the mesmerizing wonders of the ocean and unwind on the pristine sandy beaches.
                    </p>
                </div>
                <div class="col-3">
                    <img src="~/Assests/Images/Mountains_img1.jpg" style="" />
                    <h3>Peacefull Mountains</h3>
                    <p>
                        Dive into the mesmerizing wonders of the ocean and unwind on the pristine sandy beaches.
                    </p>
                </div>
                <div class="col-3">
                    <img src="~/Assests/Images/Forest_1.jpg" style="" />
                    <h3>Amazing Forests</h3>
                    <p>
                        Dive into the mesmerizing wonders of the ocean and unwind on the pristine sandy beaches.
                    </p>
                </div>
                <div class="col-3">
                    <img src="~/Assests/Images/User_Feature-content_4.jpg" style="" />
                    <h3>Fascinating Deserts</h3>
                    <p>
                        Unleash your spirit amidst the golden sands of the desert, where captivating sunsets and endless wonders beckon.
                    </p>
                </div>
                <div class="col-3">
                    <img src="~/Assests/Images/User_Feature-content_5.jpg" style="" />
                    <h3>Wonderfull Beaches</h3>
                    <p>
                        Discover pure bliss as the beach's gentle waves, soft sand, and warm sunshine create a paradise of serenity and joy.
                    </p>
                </div>
                <div class="col-3">
                    <img src="~/Assests/Images/User_Feature-content_6.jpg" style="" />
                    <h3>Amazing Waterfalls</h3>
                    <p>
                        Experience the awe-inspiring majesty of waterfalls, where nature's raw power and beauty converge in a mesmerizing dance of cascading wonder.
                    </p>
                </div>
            </div>
        </div>
    </div><!--End feature section-->
    <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="carousel-caption d-none d-md-block">
                    <h5></h5>
                    <p>

                    </p>
                </div>
                <img src="~/Assests/Images/User_carousel_4.jpg" class="d-block w-100" alt="...">

            </div>
            <div class="carousel-item">
                <img src="~/Assests/Images/User_carousel_2.jpg" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5></h5>
                    <p>

                    </p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="~/Assests/Images/User_carousel_3.jpg" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5></h5>
                    <p>

                    </p>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <div id="package_content" class="container">
        <h1 class="feature-section-title" style="width: 90%; margin:auto; text-align: center; font-weight: 450; font-size:25px; color:black;">
            Escape to a realm of boundless wanderlust,
            where our extraordinary travel packages unlock hidden gems, captivating adventures,
            and lifelong memories, igniting your passion for exploration.
        </h1>
        <div id="package_content" class="container">
            <div class="row" style="margin-top:30px;">

                @foreach (var item in Model)
                {
                    
                        <div class="col-md-4 " style="border: thick;  margin-bottom: 30px; ">
                            <div class="card-deck">
                                <div class="card" style="border-radius: 10px; height: 650px;">
                                    <div class="card-header" style="padding:0">

                                        @*Calling retriveImage method from Package controller*@
                                        <a href="https://localhost:44311/Package/RetrieveImage/@item.PackId">
                                            <img id="user_img" src="https://localhost:44311/Package/RetrieveImage/@item.PackId" alt="" style="width: 100%; height: 200px; object-fit: cover; border-radius: 10px 10px 0 0;" />
                                        </a>

                                    </div>

                                    <div class="card-body" style="background-color: #F5FFFA; border-radius: 10px; ">
                                        <h5 class="card-title" style="text-align:center; color:black;">@Html.DisplayFor(modelItem => item.PackageName)</h5>
                                        <p class="card-text">
                                            <ul>
                                                <li>
                                                    <strong>No of Guests :</strong> @Html.DisplayFor(modelItem => item.NoOfPeoples)
                                                </li>
                                                <li>
                                                    <strong>Price :  </strong> &#x20B9; @Html.DisplayFor(modelItem => item.Price)
                                                </li>

                                                <li>
                                                    <strong>Start from :</strong> @Html.DisplayFor(modelItem => item.StartDate)
                                                    <strong>To:</strong>
                                                    @Html.DisplayFor(modelItem => item.EndDate)
                                                </li>

                                                <li>
                                                    <strong>Pickup Point :</strong> @Html.DisplayFor(modelItem => item.PickupPoint)
                                                </li>


                                                <li>
                                                    <strong>Location :</strong> @Html.DisplayFor(modelItem => item.Destination), @Html.DisplayFor(modelItem => item.Country), @Html.DisplayFor(modelItem => item.State)
                                                </li>

                                                <li>
                                                    <strong>Package Details:</strong> @Html.DisplayFor(modelItem => item.PackageDetails)
                                                </li>

                                            </ul>
                                        </p>
                                        <a href="@Url.Action("VerifyPayment", "Bank", new { id = item.PackId })" class="btn" style="margin-top: 20px; color: black; background-color: #98FB98;">Buy Now</a>

                                        <a href="@Url.Action("Contact", "User", new { id = item.PackId })" class="btn " style="margin-top: 20px; color: black; background-color: #00BFFF; ">Get exciting offers !! Contact Us</a>


                                    </div>



                                </div>
                                <br />
                            </div>

                        </div>
                    


                }
            </div>

        </div>

        <!-- Pagination controls -->
        <div class="pagination" style="margin-left:88%;">
            @if (ViewBag.pageNumber > 1)
            {
                <a href="@Url.Action("Index", new { pg = ViewBag.pageNumber - 1, searchStr = ViewBag.SearchString })#package_content" class="page-link">Previous</a>
            }

            @for (int i = 1; i <= ViewBag.TotalPages; i++)
            {
                if (i == ViewBag.pageNumber)
                {
                    <a href="@Url.Action("Index", new { pg = i, searchStr = ViewBag.SearchString })#package_content" class="page-link active">@i</a>
                }
                else
                {
                    <a href="@Url.Action("Index", new { pg = i, searchStr = ViewBag.SearchString })#package_content" class="page-link">@i</a>
                }
            }

            @if (ViewBag.pageNumber < ViewBag.TotalPages)
            {
                <a href="@Url.Action("Index", new { pg = ViewBag.pageNumber + 1, searchStr = ViewBag.SearchString })#package_content" class="page-link">Next</a>
            }
        </div>


        <div class="container" style="margin-top: 20px;">
            <h1 class="feature-section-title" style="width: 70%;  margin:auto; text-align: center; font-weight: 350; font-size:25px; color:black;">
                Discover the Echoes of Our Valued Customers: Hear What They Have to Say!"
            </h1>
            <div class="row">
                <div class="col-md-3 col-sm-6">
                    <div class="circle">
                        <img src="~/Assests/Images/Review_4.jpg" alt="Image">

                    </div>
                    <h6 style="text-align:center; color:black; margin-top:5px;"> - Jean Walker</h6>
                    <p style="text-align:center">
                        " An unforgettable adventure that left me breathless with awe."
                    </p>

                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="circle">
                        <img src="~/Assests/Images/Review_2.jpg" alt="Image">
                    </div>
                    <h6 style="text-align:center; color:black; margin-top:5px;"> - Liam S</h6>
                    <p style="text-align:center">
                        " A dreamy escape that immersed me in a world of enchantment."
                    </p>
                </div>

                <div class="col-md-3 col-sm-6">
                    <div class="circle">
                        <img src="~/Assests/Images/Review_3.jpg" alt="Image">
                    </div>
                    <h6 style="text-align:center; color:black; margin-top:5px;"> - Ava R</h6>
                    <p style="text-align:center">
                        " Exceeded all expectations - a journey filled with breathtaking vistas."
                    </p>
                </div>

                <div class="col-md-3 col-sm-6">
                    <div class="circle">
                        <img src="~/Assests/Images/Review_1.jpg" alt="Image">
                    </div>
                    <h6 style="text-align:center; color:black; margin-top:5px;"> - Ethan T</h6>
                    <p style="text-align:center">
                        " An unforgettable adventure that left me breathless with awe."
                    </p>
                </div>

            </div>
        </div><!--End of the review section-->

    </div>

</body>
</html>





